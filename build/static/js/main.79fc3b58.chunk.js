(this["webpackJsonpfacturacion-synho"]=this["webpackJsonpfacturacion-synho"]||[]).push([[0],{100:function(e,t,a){},101:function(e,t,a){},102:function(e,t,a){"use strict";a.r(t);var r=a(2),n=a(20),c=a.n(n),s=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,105)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))},i=a(32),l=a(30),o=a(51),u=a(11),b=function(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(a)},j=function(e,t){switch(t.type){case"LOGIN_REQUEST":var a=b(t.payload.access);return Object(u.a)(Object(u.a)({},e),{},{id:a.id,email:a.email,username:a.username,first_name:a.first_name,last_name:a.last_name,logged:!0});case"LOGOUT_REQUEST":return Object(u.a)(Object(u.a)({},e),{},{user:t.payload,logged:!1});default:return Object(u.a)({},e)}},d=(a(60),a(7)),p=a(12),h=Object(r.createContext)(),O=a(10),x=a(9),m=a(31),v=a(1),f=function(e){var t=e.isAuthenticated,a=e.component,r=Object(m.a)(e,["isAuthenticated","component"]);return Object(v.jsx)(x.b,Object(u.a)(Object(u.a)({},r),{},{component:function(e){return t?Object(v.jsx)(x.a,{to:"/"}):Object(v.jsx)(a,Object(u.a)({},e))}}))},g=function(e){var t=e.isAuthenticated,a=e.component,r=Object(m.a)(e,["isAuthenticated","component"]);return sessionStorage.setItem("lastPath",r.location.pathname),Object(v.jsx)(x.b,Object(u.a)(Object(u.a)({},r),{},{component:function(e){return t?Object(v.jsx)(a,Object(u.a)({},e)):Object(v.jsx)(x.a,{to:"/login"})}}))},_=a(4),y=a.n(_),N=a(6),E=a(27),w=a(8),S=a.n(w),I="https://facturacion-synho.herokuapp.com/api",k=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/login/"),e.prev=1,e.next=4,S()({url:a,method:"post",data:t});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),F=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/users/all-users/"),e.prev=1,e.next=4,S()({url:t,method:"get"});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),D=(a(83),function(){var e=Object(r.useState)(JSON.parse(localStorage.getItem("darkMode"))||!1),t=Object(d.a)(e,2),a=t[0],n=t[1],c=function(){var e=Object(N.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target.checked?(localStorage.setItem("darkMode",!0),n(!0),document.body.classList.remove("is-light-mode"),document.body.classList.add("is-dark-mode")):(localStorage.setItem("darkMode",!1),n(!1),document.body.classList.remove("is-dark-mode"),document.body.classList.add("is-light-mode"));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(v.jsxs)("div",{className:"dark-mode",children:[Object(v.jsx)("p",{className:"dark-mode-title",children:a?"Dark Mode":"Light Mode"}),Object(v.jsx)("input",{type:"checkbox",className:"checkbox",id:"checkbox",defaultChecked:a,onChange:c}),Object(v.jsx)("label",{className:"switch",htmlFor:"checkbox"})]})}),A={loginRequest:function(e){return{type:"LOGIN_REQUEST",payload:e}}},C=Object(l.b)(null,A)((function(e){var t=Object(r.useContext)(h).dispatch,a=Object(r.useState)({}),n=Object(d.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)(!1),l=Object(d.a)(i,2),o=l[0],b=l[1],j=Object(r.useState)(!1),p=Object(d.a)(j,2),O=p[0],x=p[1],m=Object(r.useState)(!1),f=Object(d.a)(m,2),g=f[0],_=f[1],w=function(e){s(Object(u.a)(Object(u.a)({},c),{},Object(E.a)({},e.target.name,e.target.value)))},S=function(){var a=Object(N.a)(y.a.mark((function a(r){var n;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(r.preventDefault(),0!==c.email.length&&0!==c.password.length){a.next=5;break}x(!0),a.next=11;break;case 5:return x(!1),b(!0),a.next=9,k(c);case 9:"OK"===(n=a.sent).statusText?(sessionStorage.setItem("crdt",n.data.refresh),sessionStorage.getItem("lastPath")||"/ventas",t(e.loginRequest(n.data)),e.history.replace("/ventas")):(_(!0),b(!1));case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(r.useEffect)((function(){JSON.parse(localStorage.getItem("darkMode"))?(document.body.classList.remove("is-light-mode"),document.body.classList.add("is-dark-mode")):(document.body.classList.remove("is-dark-mode"),document.body.classList.add("is-light-mode"))}),[]),Object(v.jsxs)("div",{className:"container-login",children:[Object(v.jsx)(D,{}),Object(v.jsx)("h1",{className:"logo-name",children:"SYNHO INVENTARIO"}),Object(v.jsxs)("div",{className:"container-form-login",children:[Object(v.jsx)("h2",{children:"Iniciar la sesi\xf3n"}),Object(v.jsx)("hr",{style:{margin:"15px 0px 35px",borderColor:"var(--gray)"}}),Object(v.jsxs)("form",{onSubmit:S,children:[Object(v.jsx)("label",{htmlFor:"email",children:"Correo electr\xf3nico"}),Object(v.jsx)("input",{type:"text",name:"email",placeholder:"user@domain.com",required:!0,id:"email",onChange:w}),Object(v.jsx)("label",{htmlFor:"password",children:"Contrase\xf1a"}),Object(v.jsx)("input",{type:"password",name:"password",placeholder:"Introduzca su contrase\xf1a",required:!0,id:"password",onChange:w}),O&&Object(v.jsx)("p",{className:"error",children:"Completar los campos para iniciar sesi\xf3n"}),g&&Object(v.jsx)("p",{className:"error",children:"Error al iniciar sesi\xf3n, completar los campos correctamente"}),Object(v.jsx)("button",{className:"inicia-sesion-login",type:"submit",disabled:o,children:"Iniciar sesi\xf3n"})]})]}),Object(v.jsxs)("div",{className:"copy-right",children:["Copyright \xa9 Synho ",(new Date).getFullYear()]})]})})),T=a.p+"static/media/logo-synho-2.cce5f3c5.jpeg",R=(a(84),function(){return Object(v.jsxs)("header",{children:[Object(v.jsx)("div",{className:"logo-header",children:Object(v.jsx)("img",{src:T,style:{height:"60px"}})}),Object(v.jsx)("div",{children:Object(v.jsx)(D,{})}),Object(v.jsxs)("nav",{className:"container-nav-header",children:[Object(v.jsx)(O.b,{to:"/ventas",children:"Ventas"}),Object(v.jsx)(O.b,{to:"/compras",children:"Compras"})]})]})}),P=function(){return Object(v.jsx)("div",{})},M=function(e){var t=e.children;return Object(v.jsxs)("div",{className:"App",children:[Object(v.jsx)(R,{}),t,Object(v.jsx)(P,{})]})},L=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/purchases/purchases-records/all/"),e.prev=1,e.next=4,S()({url:t,method:"get"});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/purchases/document/all/"),e.prev=1,e.next=4,S()({url:t,method:"get"});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/purchases/type-recipe/all/"),e.prev=1,e.next=4,S()({url:t,method:"get"});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/purchases/change-dolar-sunat/"),e.prev=1,e.next=4,S()({url:t,method:"post",data:""});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/purchases/create/pucharse-record/"),e.prev=1,e.next=4,S()({url:a,method:"post",data:t});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(N.a)(y.a.mark((function e(t,a){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(I,"/purchases/search/date/").concat(t,"/").concat(a,"/"),e.prev=1,e.next=4,S()({url:r,method:"get"});case 4:return(n=e.sent).status,e.abrupt("return",n);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),K=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/purchases/search/look/").concat(t,"/"),e.prev=1,e.next=4,S()({url:a,method:"get"});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),z=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/purchases/unities/all/"),e.prev=1,e.next=4,S()({url:t,method:"get"});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/purchases/purchases/detail/").concat(t,"/"),e.prev=1,e.next=4,S()({url:a,method:"get"});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/purchases/unities-by-purchase/").concat(t,"/"),e.prev=1,e.next=4,S()({url:a,method:"get"});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),H=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/purchases/unities/detail/").concat(t,"/"),e.prev=1,e.next=4,S()({url:a,method:"get"});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/purchases/unities-responsible/create/"),e.prev=1,e.next=4,S()({url:a,method:"post",data:t});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/purchases/unities/purchase/").concat(t,"/"),e.prev=1,e.next=4,S()({url:a,method:"get"});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(N.a)(y.a.mark((function e(t,a){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(I,"/purchases/unities/search/date/").concat(t,"/").concat(a,"/"),e.prev=1,e.next=4,S()({url:r,method:"get"});case 4:return(n=e.sent).status,e.abrupt("return",n);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),X=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/purchases/unities/search/look/").concat(t,"/"),e.prev=1,e.next=4,S()({url:a,method:"get"});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),$=a(21),ee=a(17),te=a(15),ae=a.n(te),re=a(16),ne=(a(85),function(e){var t=e.match.params.id,a=Object(r.useState)([]),n=Object(d.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)([]),l=Object(d.a)(i,2),o=l[0],u=l[1],b=Object(r.useState)(!1),j=Object(d.a)(b,2),p=j[0],h=j[1],x=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Y(t);case 2:if("OK"!==(a=e.sent).statusText){e.next=10;break}return s(a.data[0]),console.log(a.data[0]),e.next=8,q(t);case 8:"OK"===(r=e.sent).statusText&&(u(r.data),h(!0));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){x(t)}),[t]),Object(v.jsx)("div",{className:"container-page",children:p?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{children:"Datos de compra"}),Object(v.jsxs)("div",{className:"contenedor-top-compras-detail",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Fecha: "}),c.date]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Mes: "}),c.month]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"A\xf1o: "}),c.year]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Document: "}),c.document.document]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Tipo: "}),c.type_recipe.recipe]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Numero: "}),c.number]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Serie: "}),c.serie]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Empresa: "}),c.supplier.business_name]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Ruc: "}),c.supplier.ruc]}),c.change_type?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Tipo de Cambio: "}),c.change_type]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Base Imponible (dolares): "}),c.tax_base_dolar]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"IGV (soles): "}),c.tb_igv_dolar]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Total (soles): "}),c.tb_total_dolar]})]}):Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Base Imponible (soles): "}),c.tax_base]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"IGV (soles): "}),c.tb_igv]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Total (soles): "}),c.tb_total]})]})]}),Object(v.jsxs)("h2",{children:["Unidades de Compra \xa0",Object(v.jsx)(ae.a,{id:"botonExportarExcel",table:"tabla_compras_all",filename:"compras ".concat((new Date).getDate(),"-").concat((new Date).getMonth(),"-").concat((new Date).getFullYear()," "),sheet:"pagina 1",buttonText:Object(v.jsx)(re.a,{})})]}),o.map((function(e){return Object(v.jsxs)("table",{className:"tabla-ventas",id:"tabla_compras_all",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"C\xf3digo de Producto"}),Object(v.jsx)("th",{children:"Nombre del Producto"}),Object(v.jsx)("th",{children:"Tipo"}),Object(v.jsx)("th",{children:"Precio S/ (Inc. IGV)"}),Object(v.jsx)("th",{children:"Precio us$ (Inc IGV)"}),Object(v.jsx)("th",{children:"Fecha de Compra"}),Object(v.jsx)("th",{children:"Nombre de Proveedor"}),Object(v.jsx)("th",{children:"Ultimo Responsable"}),Object(v.jsx)("th",{children:"Disponible"})]}),Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)(O.b,{to:"/compras/unities/detail/".concat(e.id),children:e.code})}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:e.typeOfUnity.title}),Object(v.jsx)("td",{children:"soles"===e.moneda?118*e.price/100:"-------"}),Object(v.jsx)("td",{children:"dolares"===e.moneda?118*e.price/100:"-------"}),Object(v.jsx)("td",{children:e.date}),Object(v.jsx)("td",{children:e.purchase.supplier.business_name}),Object(v.jsx)("td",{children:e.responsable?e.responsable.first_name+" "+e.responsable.last_name:"---------"}),Object(v.jsx)("td",{children:e.available?Object(v.jsx)($.a,{className:"check-available"}):Object(v.jsx)(ee.a,{className:"non-available"})})]})]},e.id)}))]}):Object(v.jsx)("div",{children:"Cargando ..."})})}),ce=a(22),se=a(28),ie=(a(48),function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(d.a)(c,2),i=s[0],l=s[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),b=u[0],j=u[1],p=Object(r.useState)(0),h=Object(d.a)(p,2),x=h[0],m=h[1],f=Object(r.useState)(0),g=Object(d.a)(f,2),_=g[0],E=g[1],w=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=0,r=0;r<t.length;r++)n=t[r],a+=n.tb_total,a+=n.tb_total_dolar;a=parseInt(1e3*a)/1e3,m(a),E(t.length);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:"OK"===(t=e.sent).statusText?n(t.data):n([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(N.a)(y.a.mark((function e(t,a){var r,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t||""===a){e.next=7;break}return r=new Date(i.target.value).toISOString().slice(0,10),c=new Date(b.target.value).toISOString().slice(0,10),e.next=5,J(r,c);case 5:"OK"===(s=e.sent).statusText?n(s.data):n([]);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===(a=t.target.search_compra.value)){e.next=9;break}return e.next=5,K(a);case 5:"OK"===(r=e.sent).statusText?n(r.data):n([]),e.next=10;break;case 9:S();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){I(i,b)}),[i,b]),Object(r.useEffect)((function(){S()}),[]),Object(r.useEffect)((function(){w(a)}),[a]),Object(v.jsxs)("div",{className:"container-page",children:[Object(v.jsx)("div",{className:"container-title-operations",children:Object(v.jsx)("h1",{children:"Registro de compras "})}),Object(v.jsxs)("div",{className:"container-all-filters",children:[Object(v.jsx)("form",{className:"container-search-filter",onSubmit:k,children:Object(v.jsxs)("label",{htmlFor:"search_compra",children:["Buscar: ",Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"container-input-search",children:[Object(v.jsx)("input",{type:"search",name:"search_compra",id:"search_compra"}),Object(v.jsx)("button",{type:"submit",children:Object(v.jsx)(ce.a,{})})]})]})}),Object(v.jsxs)("div",{className:"container-filter-by-date",children:[Object(v.jsxs)("label",{htmlFor:"fecha_desde",children:["Desde: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"date",name:"fecha_desde",id:"fecha_desde",onChange:l})]}),Object(v.jsxs)("label",{htmlFor:"fecha_hasta",children:["Hasta: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"date",name:"fecha_hasta",id:"fecha_hasta",onChange:j})]})]}),Object(v.jsxs)("div",{className:"container-save-add",children:[Object(v.jsx)(O.b,{className:"btn-list-detail-unities",to:"/compras/unities/all",children:Object(v.jsx)(se.a,{})}),Object(v.jsx)(ae.a,{id:"botonExportarExcel",table:"tabla_compras",filename:"registro-de-compras ".concat((new Date).getDate(),"-").concat((new Date).getMonth(),"-").concat((new Date).getFullYear()," "),sheet:"pagina 1",buttonText:Object(v.jsx)(re.a,{})}),Object(v.jsxs)(O.b,{to:"/compras/add",children:[Object(v.jsx)(ee.b,{})," Agregar"]})]})]}),Object(v.jsxs)("div",{className:"container-total-data",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Total de registros:"}),Object(v.jsx)("div",{children:_})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Total de gastos en compra:"}),Object(v.jsxs)("div",{children:["S/ ",x]})]})]}),Object(v.jsxs)("table",{className:"tabla-ventas",id:"tabla_compras",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"NUMERO DEL REGISTRO O CODIGO UNICO DE OPERACION"}),Object(v.jsx)("th",{children:"FECHA DE EMISION"}),Object(v.jsx)("th",{children:"TIPO"}),Object(v.jsx)("th",{children:"SERIE O CDA"}),Object(v.jsx)("th",{children:"NUMERO"}),Object(v.jsx)("th",{children:"TIPO"}),Object(v.jsx)("th",{children:"NUMERO"}),Object(v.jsx)("th",{children:"APELLIDOS Y NOMBRES O RAZON SOCIAL"}),Object(v.jsx)("th",{children:"BASE IMPONIBLE / OPERACION GRAVADA (soles)"}),Object(v.jsx)("th",{children:"IGV (soles)"}),Object(v.jsx)("th",{children:"VALOR DE LAS ADQUISIC: OPERACI\xd3N  NO GRAVADA  /OPERACI\xd3N INAFECTA"}),Object(v.jsx)("th",{children:"OTROS TRIBUTOS Y CARGOS (dolares)"}),Object(v.jsx)("th",{children:"IMPORTE TOTAL (soles)"}),Object(v.jsx)("th",{children:"TIPO DE CAMBIO"})]}),a.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{style:{width:"30px"},children:Object(v.jsx)(O.b,{to:"/compras/detail/".concat(e.id),children:e.id})}),Object(v.jsx)("td",{children:e.date}),Object(v.jsx)("td",{children:e.document.number}),Object(v.jsx)("td",{children:e.serie}),Object(v.jsx)("td",{children:e.number}),Object(v.jsx)("td",{children:e.type_recipe.number}),Object(v.jsx)("td",{style:{width:"120px"},children:e.supplier.ruc}),Object(v.jsx)("td",{style:{width:"400px"},children:e.supplier.business_name}),Object(v.jsx)("td",{style:{width:"100px"},children:e.tax_base}),Object(v.jsx)("td",{children:e.tb_igv}),Object(v.jsx)("td",{style:{width:"150px"},children:e.tb_total}),Object(v.jsx)("td",{children:e.tax_base_dolar}),Object(v.jsx)("td",{children:e.tb_total_dolar}),Object(v.jsx)("td",{children:e.change_type})]},e.id)}))]})]})}),le=a(29),oe=a.n(le),ue=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://dniruc.apisperu.com/api/v1/ruc/".concat(t,"?token=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJlbWFpbCI6ImJyeWFuamVzdXMucmFAZ21haWwuY29tIn0.q45fnl_Avj4zVfqCocwBR6qUt-uGP6fmANWoF-n4tsI"),e.prev=1,e.next=4,S()({url:a,method:"get"});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),be=(a(50),function(e){var t=Object(r.useState)(new Date),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)([]),i=Object(d.a)(s,2),l=i[0],o=i[1],u=Object(r.useState)([]),b=Object(d.a)(u,2),j=b[0],p=b[1],h=Object(r.useState)(""),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)(""),g=Object(d.a)(f,2),_=g[0],E=g[1],w=Object(r.useState)(""),S=Object(d.a)(w,2),I=S[0],k=S[1],F=Object(r.useState)(!1),D=Object(d.a)(F,2),A=D[0],C=D[1],T=Object(r.useState)(0),R=Object(d.a)(T,2),P=R[0],M=R[1],L=Object(r.useState)(0),J=Object(d.a)(L,2),K=J[0],z=J[1],Y=Object(r.useState)(0),q=Object(d.a)(Y,2),H=q[0],Q=q[1],Z=Object(r.useState)(0),W=Object(d.a)(Z,2),X=W[0],$=W[1],ee=Object(r.useState)(0),te=Object(d.a)(ee,2),ae=te[0],re=te[1],ne=Object(r.useState)(0),ce=Object(d.a)(ne,2),se=ce[0],ie=ce[1],le=Object(r.useState)(0),be=Object(d.a)(le,2),je=be[0],de=be[1],pe=Object(r.useState)(0),he=Object(d.a)(pe,2),Oe=he[0],xe=he[1],me=Object(r.useState)(0),ve=Object(d.a)(me,2),fe=ve[0],ge=ve[1],_e=[],ye=((new Date).getFullYear()+" ").slice(2,4),Ne=(new Date).getMonth()+1;Ne<10&&(Ne="0".concat(Ne));for(var Ee=ye+Ne+(parseInt((new Date).getDate())<10?"0".concat((new Date).getDate()):(new Date).getDate()),we=1;we<=20;we++)we<10?_e.push(Ee+"-"+"000".concat(we)):_e.push(Ee+"-"+"00".concat(we));var Se=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B();case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,G();case 2:t=e.sent,p(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ke=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U();case 2:t=e.sent,Q(t.data.venta);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(N.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t);case 2:(a=e.sent).data&&E(a.data.razonSocial);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var t=Object(N.a)(y.a.mark((function t(a){var r,n,c,s,i,l,o,u,b,j,d,p;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),r=document.getElementsByClassName("unity-register"),n=[],c=!1,s=0;case 5:if(!(s<20)){t.next=48;break}if(i=r[s],l=void 0,o=void 0,u=void 0,b=void 0,j=void 0,""!==i.childNodes.item(0).childNodes.item(0).value){t.next=16;break}return t.abrupt("continue",45);case 16:l=i.childNodes.item(0).childNodes.item(0).value;case 17:if(""!==i.childNodes.item(1).childNodes.item(0).value){t.next=21;break}return t.abrupt("continue",45);case 21:o=i.childNodes.item(1).childNodes.item(0).value;case 22:if(""!==i.childNodes.item(2).childNodes.item(0).value){t.next=28;break}return C(!0),c=!0,t.abrupt("continue",45);case 28:u=i.childNodes.item(2).childNodes.item(0).value;case 29:if(""!==i.childNodes.item(3).childNodes.item(0).value){t.next=35;break}return C(!0),c=!0,t.abrupt("continue",45);case 35:b=i.childNodes.item(3).childNodes.item(0).value;case 36:if(""!==i.childNodes.item(4).childNodes.item(0).value){t.next=42;break}return C(!0),c=!0,t.abrupt("continue",45);case 42:j=i.childNodes.item(4).childNodes.item(0).value;case 43:d={code:l,description:o,cuantity:u,price:j,typeOfUnity:b},n.push(d);case 45:s++,t.next=5;break;case 48:console.log(n),p={},t.t0=I,t.next="soles"===t.t0?53:"dolares"===t.t0?55:57;break;case 53:return p={unities:n,month:a.target.month[0].value,year:a.target.year[0].value,date:a.target.date.value,document:a.target.document.value,serie:a.target.serie.value,number:parseFloat(a.target.number_recipe.value),recipe:a.target.recipe.value,ruc:parseFloat(a.target.ruc.value),tax_base:parseFloat(a.target.tax_base.value),tb_igv:parseFloat(a.target.tb_igv.value),tb_total:parseFloat(a.target.tb_total.value),business_name:_,moneda:I,tax_base_dolar:null,change_type:null,tb_igv_dolar:null,tb_total_dolar:null},t.abrupt("break",59);case 55:return p={unities:n,month:a.target.month[0].value,year:a.target.year[0].value,date:a.target.date.value,document:a.target.document.value,serie:a.target.serie.value,number:parseFloat(a.target.number_recipe.value),recipe:a.target.recipe.value,ruc:parseFloat(a.target.ruc.value),tax_base_dolar:parseFloat(a.target.tax_base_dolar.value),change_type:parseFloat(a.target.change_type.value),tb_igv_dolar:parseFloat(a.target.tb_igv_dolar.value),tb_total_dolar:parseFloat(a.target.tb_total_dolar.value),business_name:_,moneda:I,tax_base:null,tb_igv:null,tb_total:null},t.abrupt("break",59);case 57:return C(!0),t.abrupt("break",59);case 59:if(console.log(!c),c){t.next=65;break}return t.next=63,V(p);case 63:"OK"===t.sent.statusText?e.history.push("/compras"):C(!0);case 65:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){!function(e){if(NaN!==e){var t=parseInt(1e3*e)/1e3*118/100;$(parseInt(1e3*(t-e))/1e3),M(t)}else M(0),$(0)}(se)}),[se]),Object(r.useEffect)((function(){!function(e){if(NaN!==e){var t=parseInt(1e3*e)/1e3*118/100*(parseInt(1e3*parseFloat(H))/1e3),a=parseInt(1e3*e)/1e3*(parseInt(1e3*parseFloat(H))/1e3);ge(a),re(parseInt(1e3*(t-a))/1e3),z(t)}else ge(0),z(0),re(0)}(se)}),[se]),Object(r.useEffect)((function(){Fe(x)}),[x]),Object(r.useEffect)((function(){Se()}),[]),Object(r.useEffect)((function(){Ie()}),[]),Object(r.useEffect)((function(){ke()}),[]),Object(v.jsxs)("div",{className:"container-page",children:[Object(v.jsx)("h1",{children:"Agregar Compra"}),Object(v.jsxs)("form",{className:"form-add-venta",onSubmit:De,children:[Object(v.jsxs)("div",{className:"form-1-add-venta",children:[Object(v.jsxs)("label",{htmlFor:"mes_registro",children:["MES DE REGISTRO: \xa0",Object(v.jsxs)("select",{name:"month",id:"mes_registro",children:[Object(v.jsx)("option",{value:"",children:"-------------------"}),Object(v.jsx)("option",{value:"Enero",children:"Enero"}),Object(v.jsx)("option",{value:"Febrero",children:"Febrero"}),Object(v.jsx)("option",{value:"Marzo",children:"Marzo"}),Object(v.jsx)("option",{value:"Abril",children:"Abril"}),Object(v.jsx)("option",{value:"Mayo",children:"Mayo"}),Object(v.jsx)("option",{value:"Junio",children:"Junio"}),Object(v.jsx)("option",{value:"Julio",children:"Julio"}),Object(v.jsx)("option",{value:"Agosto",children:"Agosto"}),Object(v.jsx)("option",{value:"Setiembre",children:"Setiembre"}),Object(v.jsx)("option",{value:"Octubre",children:"Octubre"}),Object(v.jsx)("option",{value:"Noviembre",children:"Noviembre"}),Object(v.jsx)("option",{value:"Diciembre",children:"Diciembre"})]})]}),Object(v.jsxs)("label",{htmlFor:"year",children:["A\xd1O DE REGISTRO: \xa0",Object(v.jsx)("input",{type:"number",name:"year",id:"year",style:{width:"80px"},defaultValue:(new Date).getFullYear()})]})]}),Object(v.jsx)("p",{children:"COMPROBANTE DE PAGO O DOCUMENTO:"}),Object(v.jsxs)("div",{className:"form-2-add-venta",children:[Object(v.jsxs)("label",{htmlFor:"fecha_emision",children:["FECHA DE EMISION: ",Object(v.jsx)("br",{}),Object(v.jsx)(oe.a,{id:"fecha_emision",className:"fecha_emision",onChange:c,name:"date",value:n})]}),Object(v.jsxs)("label",{htmlFor:"document",children:["TIPO DE DOCUMENTO: ",Object(v.jsx)("br",{}),Object(v.jsxs)("select",{name:"document",id:"document",children:[Object(v.jsx)("option",{value:"",children:"----------------------"}),l.map((function(e){return Object(v.jsx)("option",{value:e.document,children:e.document},e.id)}))]})]}),Object(v.jsxs)("label",{htmlFor:"serie",children:["SERIE: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",name:"serie",id:"serie"})]}),Object(v.jsxs)("label",{htmlFor:"number_recipe",children:["N\xdaMERO: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"number",name:"number_recipe",id:"number_recipe"})]}),Object(v.jsxs)("label",{htmlFor:"recipe",children:["TIPO: ",Object(v.jsx)("br",{}),Object(v.jsxs)("select",{name:"recipe",id:"recipe",children:[Object(v.jsx)("option",{value:"",children:"---------------"}),j.map((function(e){return Object(v.jsx)("option",{value:e.recipe,children:e.recipe},e.id)}))]})]})]}),Object(v.jsx)("p",{children:"INFORMACION DEL PROVEEDOR:"}),Object(v.jsxs)("div",{className:"form-2-add-venta",children:[Object(v.jsxs)("label",{htmlFor:"ruc",children:["RUC DEL PROVEEDOR: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"number",name:"ruc",id:"ruc",max:"999999999999",className:"ruc-provedor-form",onChange:function(e){return m(e.target.value)}})]}),Object(v.jsxs)("label",{htmlFor:"razon_social",children:["NOMBRE O RAZ\xd3N SOCIAL: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",name:"business_name",className:"razon-social-form",value:_,disabled:"true"})]})]}),Object(v.jsx)("hr",{}),Object(v.jsxs)("p",{children:[Object(v.jsx)("input",{type:"radio",name:"imponible",id:"1",value:"1",onChange:function(){return k("soles")}}),"\xa0 IMPONIBLE EN SOLES"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("input",{type:"radio",name:"imponible",id:"2",value:"2",onChange:function(){return k("dolares")}}),"\xa0 IMPONIBLE EN DOLARES:"]}),""!==I&&Object(v.jsxs)("table",{className:"tabla-ventas",id:"tabla_compras",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"C\xf3digo"}),Object(v.jsx)("th",{children:"Descripci\xf3n"}),Object(v.jsx)("th",{children:"Cantidad"}),Object(v.jsx)("th",{children:"Tipo"}),Object(v.jsx)("th",{children:"Precio(sin IGV) en ".concat(I)})]}),_e.map((function(e){return Object(v.jsxs)("tr",{className:"unity-register",children:[Object(v.jsx)("td",{children:Object(v.jsx)("input",{type:"text",name:"code",value:e,disabled:!0})}),Object(v.jsx)("td",{children:Object(v.jsx)("input",{type:"text",name:"description"})}),Object(v.jsx)("td",{children:Object(v.jsx)("input",{type:"text",name:"cuantity"})}),Object(v.jsx)("td",{children:Object(v.jsxs)("select",{name:"typeOfUnity",children:[Object(v.jsx)("option",{value:"",children:"---------------"}),Object(v.jsx)("option",{value:"Herramientas",children:"Herramientas"}),Object(v.jsx)("option",{value:"Consumibles",children:"Consumibles"}),Object(v.jsx)("option",{value:"Maquinarias",children:"Maquinarias"}),Object(v.jsx)("option",{value:"Equipo",children:"Equipo"}),Object(v.jsx)("option",{value:"Servicio",children:"Servicio"}),Object(v.jsx)("option",{value:"Alimentos",children:"Alimentos"}),Object(v.jsx)("option",{value:"EPPs",children:"EPPs"})]})}),Object(v.jsx)("td",{children:Object(v.jsx)("input",{type:"number",name:"price",step:"0.001",onFocus:function(e){""!==e.target.value&&xe(parseFloat(e.target.value))},onBlur:function(){ie(se+je-Oe),de(0),xe(0)},onChange:function(e){""!==e.target.value&&de(parseFloat(e.target.value))}})})]})}))]}),"soles"===I&&Object(v.jsxs)("div",{className:"form-3-add-venta",children:[Object(v.jsxs)("label",{htmlFor:"tax_base",children:["BASE IMPONIBLE TOTAL(en soles):",Object(v.jsx)("input",{type:"number",name:"tax_base",id:"tax_base",value:se,disabled:"true"})]}),Object(v.jsxs)("label",{htmlFor:"tb_igv",children:["IGV:",Object(v.jsx)("input",{type:"number",name:"tb_igv",id:"tb_igv",value:X,disabled:"true"})]}),Object(v.jsxs)("label",{htmlFor:"tb_total",children:["TOTAL:",Object(v.jsx)("input",{type:"number",name:"tb_total",id:"tb_total",value:P,disabled:"true"})]})]}),"dolares"===I&&Object(v.jsxs)("div",{className:"form-4-add-venta",children:[Object(v.jsxs)("label",{htmlFor:"tax_base_dolar",children:["BASE IMPONIBLE TOTAL(en dolares):",Object(v.jsx)("input",{type:"number",name:"tax_base_dolar",id:"tax_base_dolar",value:se,disabled:"true"})]}),Object(v.jsxs)("label",{htmlFor:"change_type",children:["TIPO DE CAMBIO:",Object(v.jsx)("input",{type:"number",name:"change_type",id:"change_type",value:H,disabled:"true"})]}),Object(v.jsxs)("label",{htmlFor:"tax_base",children:["BASE IMPONIBLE TOTAL(en soles):",Object(v.jsx)("input",{type:"number",name:"tax_base",id:"tax_base",value:fe,disabled:"true"})]}),Object(v.jsxs)("label",{htmlFor:"tb_igv_dolar",children:["IGV:",Object(v.jsx)("input",{type:"number",name:"tb_igv_dolar",id:"tb_igv_dolar",value:ae,disabled:"true"})]}),Object(v.jsxs)("label",{htmlFor:"tb_total_dolar",children:["TOTAL:",Object(v.jsx)("input",{type:"number",name:"tb_total_dolar",id:"tb_total_dolar",value:K,disabled:"true"})]})]}),Object(v.jsx)("hr",{}),A&&Object(v.jsx)("p",{className:"error",children:"Completar todos los campos correctamente"}),Object(v.jsx)("button",{type:"submit",children:"Agregar compra"})]})]})}),je=(a(99),function(){return Object(v.jsx)("main",{className:"container-page",children:"screen home"})}),de=function(){return Object(v.jsx)("div",{children:"ERROR 404"})},pe=(a(100),function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(d.a)(c,2),i=s[0],l=s[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),b=u[0],j=u[1],p=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:t=e.sent,n(t.data),console.log(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(N.a)(y.a.mark((function e(t,a){var r,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t||""===a){e.next=7;break}return r=new Date(i.target.value).toISOString().slice(0,10),c=new Date(b.target.value).toISOString().slice(0,10),e.next=5,W(r,c);case 5:"OK"===(s=e.sent).statusText?n(s.data):n([]);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===(a=t.target.search_compra.value)){e.next=9;break}return e.next=5,X(a);case 5:"OK"===(r=e.sent).statusText?n(r.data):n([]),e.next=10;break;case 9:p();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){h(i,b)}),[i,b]),Object(r.useEffect)((function(){p()}),[]),Object(v.jsxs)("div",{className:"container-page",children:[Object(v.jsx)("div",{className:"container-title-operations",children:Object(v.jsx)("h1",{children:"Registro de Productos de Compra "})}),Object(v.jsxs)("div",{className:"container-all-filters",children:[Object(v.jsx)("form",{className:"container-search-filter",onSubmit:x,children:Object(v.jsxs)("label",{htmlFor:"search_compra",children:["Buscar: ",Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"container-input-search",children:[Object(v.jsx)("input",{type:"search",name:"search_compra",id:"search_compra"}),Object(v.jsx)("button",{type:"submit",children:Object(v.jsx)(ce.a,{})})]})]})}),Object(v.jsxs)("div",{className:"container-filter-by-date",children:[Object(v.jsxs)("label",{htmlFor:"fecha_desde",children:["Desde: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"date",name:"fecha_desde",id:"fecha_desde",onChange:l})]}),Object(v.jsxs)("label",{htmlFor:"fecha_hasta",children:["Hasta: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"date",name:"fecha_hasta",id:"fecha_hasta",onChange:j})]})]}),Object(v.jsx)("div",{className:"container-save-add",children:Object(v.jsx)(ae.a,{id:"botonExportarExcel",table:"tabla_compras",filename:"registro-de-compras ".concat((new Date).getDate(),"-").concat((new Date).getMonth(),"-").concat((new Date).getFullYear()," "),sheet:"pagina 1",buttonText:Object(v.jsx)(re.a,{})})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("table",{className:"tabla-ventas",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"C\xf3digo de Producto"}),Object(v.jsx)("th",{children:"Nombre del Producto"}),Object(v.jsx)("th",{children:"Tipo"}),Object(v.jsx)("th",{children:"Precio S/ (Inc. IGV)"}),Object(v.jsx)("th",{children:"Precio us$ (Inc IGV)"}),Object(v.jsx)("th",{children:"Fecha de Compra"}),Object(v.jsx)("th",{children:"Nombre de Proveedor"}),Object(v.jsx)("th",{children:"Ultimo Responsable"}),Object(v.jsx)("th",{children:"Disponible"})]}),a.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:Object(v.jsx)(O.b,{to:"/compras/unities/detail/".concat(e.id),children:e.code})}),Object(v.jsx)("td",{children:e.description}),Object(v.jsx)("td",{children:e.typeOfUnity.title}),Object(v.jsx)("td",{children:"soles"===e.moneda?118*e.price/100:"-------"}),Object(v.jsx)("td",{children:"dolares"===e.moneda?118*e.price/100:"-------"}),Object(v.jsx)("td",{children:e.date}),Object(v.jsx)("td",{children:e.purchase.supplier.business_name}),Object(v.jsx)("td",{children:e.responsable?e.responsable.first_name+" "+e.responsable.last_name:"---------"}),Object(v.jsx)("td",{children:e.available?Object(v.jsx)($.a,{className:"check-available"}):Object(v.jsx)(ee.a,{className:"non-available"})})]},e.id)}))]})]})}),he=a(52),Oe=(a(101),function(e){var t=e.match.params.id,a=Object(r.useState)([]),n=Object(d.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)([]),l=Object(d.a)(i,2),o=l[0],u=l[1],b=Object(r.useState)(!1),j=Object(d.a)(b,2),p=j[0],h=j[1],O=Object(r.useState)(!1),x=Object(d.a)(O,2),m=x[0],f=x[1],g=Object(r.useState)([]),_=Object(d.a)(g,2),E=_[0],w=_[1],S=Object(r.useState)(!1),I=Object(d.a)(S,2),k=I[0],D=I[1],A=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:if("OK"!=(a=e.sent).statusText){e.next=10;break}return s(a.data[0]),e.next=7,Z(t);case 7:r=e.sent,u(r.data),h(!0);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:t=e.sent,w(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(N.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(N.a)(y.a.mark((function e(){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(N.a)(y.a.mark((function e(a){var r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r={unity:c.id,date:a.target.date.value,available:c.available,reason:a.target.reason.value,responsable:parseInt(a.target.responsable.value),state:a.target.state.value},e.next=4,Q(r);case 4:"OK"===e.sent.statusText?(A(t),f(!1)):D(!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){A(t)}),[t]),Object(r.useEffect)((function(){C()}),[]),Object(v.jsxs)("div",{className:"container-page",children:[Object(v.jsx)("h1",{children:"Datos del Producto Detalle"}),c.available?Object(v.jsx)("button",{onClick:T,className:"btn-avaiable-product",children:"Retirar"}):Object(v.jsx)("button",{onClick:T,className:"btn-avaiable-product",children:"Devolver"}),p?Object(v.jsxs)("div",{className:"container-top-unities-detail",children:[Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Codigo: "}),c.code]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Fecha: "}),c.date]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Titulo: "}),c.description]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Precio: "}),"soles"===c.moneda?"S/":"$"," ",c.price]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Razon Social: "}),c.purchase.supplier.business_name]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Ruc: "}),c.purchase.supplier.ruc]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Tipo: "}),c.typeOfUnity.title]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("b",{children:"Disponible: "}),c.available?Object(v.jsx)($.a,{className:"check-available"}):Object(v.jsx)(ee.a,{className:"non-available"})]})]}):"Cargando...",Object(v.jsxs)("h2",{children:["Historial del producto: \xa0",Object(v.jsx)(ae.a,{id:"botonExportarExcel",table:"tabla_historial",filename:"registro-historial ".concat((new Date).getDate(),"-").concat((new Date).getMonth(),"-").concat((new Date).getFullYear()," "),sheet:"pagina 1",buttonText:Object(v.jsx)(re.a,{})})]}),Object(v.jsxs)("table",{className:"tabla-ventas",id:"tabla_historial",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"Fecha"}),Object(v.jsx)("th",{children:"Accion"}),Object(v.jsx)("th",{children:"Motivo"}),Object(v.jsx)("th",{children:"Responsable"}),Object(v.jsx)("th",{children:"Estado"})]}),o.map((function(e){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{children:e.date}),Object(v.jsx)("td",{children:e.available?Object(v.jsx)("span",{className:"retiro-product",children:"Retiro"}):Object(v.jsx)("span",{className:"devolucion-product",children:"Devolucion"})}),Object(v.jsx)("td",{children:e.reason}),Object(v.jsxs)("td",{children:[e.responsable.first_name," ",e.responsable.last_name]}),Object(v.jsx)("td",{children:e.state})]})}))]}),m?Object(v.jsx)("div",{className:"container-modal-product",children:Object(v.jsxs)("div",{className:"container-content-modal-product",children:[Object(v.jsx)("div",{className:"btn-close-modal-product",children:Object(v.jsx)(he.a,{onClick:R})}),Object(v.jsxs)("h3",{children:["Formulario de ",c.available?"Retiro":"Devolucion"]}),Object(v.jsxs)("form",{onSubmit:P,className:"content-modal-product",children:[Object(v.jsx)("label",{htmlFor:"date",children:"Fecha: "}),"\xa0",Object(v.jsx)("input",{type:"date",name:"date",id:"date"}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"reason",children:"Motivo: "}),Object(v.jsx)("br",{}),Object(v.jsx)("textarea",{name:"reason",id:"reason"}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"responsable",children:"Responsable: "}),"\xa0",Object(v.jsxs)("select",{name:"responsable",id:"responsable",children:[Object(v.jsx)("option",{value:"",children:"-------------------------------"}),E.map((function(e){return Object(v.jsxs)("option",{value:e.id,children:[e.first_name," ",e.last_name]},e.id)}))]}),Object(v.jsx)("br",{}),Object(v.jsx)("label",{htmlFor:"state",children:"Estado: "}),Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"text",name:"state",id:"state"}),k&&Object(v.jsx)("div",{className:"error",children:"Completar bien el formulario"}),Object(v.jsx)("button",{type:"submit",children:"Enviar"})]})]})}):null]})}),xe=function(){return Object(v.jsx)("div",{className:"container-page",children:Object(v.jsx)("div",{className:"container-title-operations",children:Object(v.jsx)("h1",{children:"Registro de Productos de Venta "})})})},me=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/sales/sales-records/all/"),e.prev=1,e.next=4,S()({url:t,method:"get"});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/sales/document/all/"),e.prev=1,e.next=4,S()({url:t,method:"get"});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),fe=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/sales/type-recipe/all/"),e.prev=1,e.next=4,S()({url:t,method:"get"});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),ge=function(){var e=Object(N.a)(y.a.mark((function e(){var t,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(I,"/sales/change-dolar-sunat/"),e.prev=1,e.next=4,S()({url:t,method:"post",data:""});case 4:return(a=e.sent).status,e.abrupt("return",a);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),_e=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/sales/create/sale-record/"),e.prev=1,e.next=4,S()({url:a,method:"post",data:t});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(N.a)(y.a.mark((function e(t,a){var r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(I,"/sales/search/date/").concat(t,"/").concat(a,"/"),e.prev=1,e.next=4,S()({url:r,method:"get"});case 4:return(n=e.sent).status,e.abrupt("return",n);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,a){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat(I,"/sales/search/look/").concat(t,"/"),e.prev=1,e.next=4,S()({url:a,method:"get"});case 4:return(r=e.sent).status,e.abrupt("return",r);case 7:e.next=12;break;case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(r.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(d.a)(c,2),i=s[0],l=s[1],o=Object(r.useState)(""),u=Object(d.a)(o,2),b=u[0],j=u[1],p=Object(r.useState)(0),h=Object(d.a)(p,2),x=h[0],m=h[1],f=Object(r.useState)(0),g=Object(d.a)(f,2),_=g[0],E=g[1],w=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=0,r=0;r<t.length;r++)n=t[r],a+=n.tb_total,a+=n.tb_total_dolar;a=parseInt(1e3*a)/1e3,m(a),E(t.length);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me();case 2:"OK"===(t=e.sent).statusText?n(t.data):n([]);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(N.a)(y.a.mark((function e(t,a){var r,c,s;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""===t||""===a){e.next=7;break}return r=new Date(i.target.value).toISOString().slice(0,10),c=new Date(b.target.value).toISOString().slice(0,10),e.next=5,ye(r,c);case 5:"OK"===(s=e.sent).statusText?n(s.data):n([]);case 7:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),k=function(){var e=Object(N.a)(y.a.mark((function e(t){var a,r;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),""===(a=t.target.search_compra.value)){e.next=9;break}return e.next=5,Ne(a);case 5:"OK"===(r=e.sent).statusText?n(r.data):n([]),e.next=10;break;case 9:S();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){I(i,b)}),[i,b]),Object(r.useEffect)((function(){S()}),[]),Object(r.useEffect)((function(){w(a)}),[a]),Object(v.jsxs)("div",{className:"container-page",children:[Object(v.jsx)("div",{className:"container-title-operations",children:Object(v.jsx)("h1",{children:"Registro de Ventas "})}),Object(v.jsxs)("div",{className:"container-all-filters",children:[Object(v.jsx)("form",{className:"container-search-filter",onSubmit:k,children:Object(v.jsxs)("label",{htmlFor:"search_compra",children:["Buscar: ",Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"container-input-search",children:[Object(v.jsx)("input",{type:"search",name:"search_compra",id:"search_compra"}),Object(v.jsx)("button",{type:"submit",children:Object(v.jsx)(ce.a,{})})]})]})}),Object(v.jsxs)("div",{className:"container-filter-by-date",children:[Object(v.jsxs)("label",{htmlFor:"fecha_desde",children:["Desde: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"date",name:"fecha_desde",id:"fecha_desde",onChange:l})]}),Object(v.jsxs)("label",{htmlFor:"fecha_hasta",children:["Hasta: ",Object(v.jsx)("br",{}),Object(v.jsx)("input",{type:"date",name:"fecha_hasta",id:"fecha_hasta",onChange:j})]})]}),Object(v.jsxs)("div",{className:"container-save-add",children:[Object(v.jsx)(O.b,{className:"btn-list-detail-unities",to:"/ventas/unities/all",children:Object(v.jsx)(se.a,{})}),Object(v.jsx)(ae.a,{id:"botonExportarExcel",table:"tabla_compras",filename:"registro-de-compras ".concat((new Date).getDate(),"-").concat((new Date).getMonth(),"-").concat((new Date).getFullYear()," "),sheet:"pagina 1",buttonText:Object(v.jsx)(re.a,{})}),Object(v.jsxs)(O.b,{to:"/ventas/add",children:[Object(v.jsx)(ee.b,{})," Agregar"]})]})]}),Object(v.jsxs)("div",{className:"container-total-data",children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Total de registros:"}),Object(v.jsx)("div",{children:_})]}),Object(v.jsxs)("div",{children:[Object(v.jsx)("h4",{children:"Total de gastos en compra:"}),Object(v.jsxs)("div",{children:["S/ ",x]})]})]}),Object(v.jsxs)("table",{className:"tabla-ventas",id:"tabla_ventas",children:[Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{children:"NUMERO DEL REGISTRO O CODIGO UNICO DE OPERACION"}),Object(v.jsx)("th",{children:"FECHA DE EMISION"}),Object(v.jsx)("th",{children:"TIPO"}),Object(v.jsx)("th",{children:"SERIE O CDA"}),Object(v.jsx)("th",{children:"NUMERO"}),Object(v.jsx)("th",{children:"TIPO"}),Object(v.jsx)("th",{children:"NUMERO"}),Object(v.jsx)("th",{children:"APELLIDOS Y NOMBRES O RAZON SOCIAL"}),Object(v.jsx)("th",{children:"BASE IMPONIBLE / OPERACION GRAVADA (soles)"}),Object(v.jsx)("th",{children:"IGV (soles)"}),Object(v.jsx)("th",{children:"VALOR DE LAS ADQUISIC: OPERACI\xd3N  NO GRAVADA  /OPERACI\xd3N INAFECTA"}),Object(v.jsx)("th",{children:"OTROS TRIBUTOS Y CARGOS"}),Object(v.jsx)("th",{children:"IMPORTE TOTAL (soles)"}),Object(v.jsx)("th",{children:"TIPO DE CAMBIO"})]}),a.map((function(e,t){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("td",{style:{width:"30px"},children:e.id}),Object(v.jsx)("td",{children:e.date}),Object(v.jsx)("td",{children:e.document.number}),Object(v.jsx)("td",{children:e.serie}),Object(v.jsx)("td",{children:e.number}),Object(v.jsx)("td",{children:e.type_recipe.number}),Object(v.jsx)("td",{style:{width:"120px"},children:e.supplier.ruc}),Object(v.jsx)("td",{style:{width:"400px"},children:e.supplier.business_name}),Object(v.jsx)("td",{style:{width:"100px"},children:e.tax_base}),Object(v.jsx)("td",{children:e.tb_igv}),Object(v.jsx)("td",{style:{width:"150px"},children:e.tb_total}),Object(v.jsx)("td",{children:e.tax_base_dolar}),Object(v.jsx)("td",{children:e.tb_total_dolar}),Object(v.jsx)("td",{children:e.change_type})]},e.id)}))]})]})},we=function(e){var t=Object(r.useState)(new Date),a=Object(d.a)(t,2),n=a[0],c=a[1],s=Object(r.useState)([]),i=Object(d.a)(s,2),l=i[0],o=i[1],u=Object(r.useState)([]),b=Object(d.a)(u,2),j=b[0],p=b[1],h=Object(r.useState)(""),O=Object(d.a)(h,2),x=O[0],m=O[1],f=Object(r.useState)(""),g=Object(d.a)(f,2),_=g[0],E=g[1],w=Object(r.useState)(""),S=Object(d.a)(w,2),I=S[0],k=S[1],F=Object(r.useState)(!1),D=Object(d.a)(F,2),A=D[0],C=D[1],T=Object(r.useState)(0),R=Object(d.a)(T,2),P=R[0],M=R[1],L=Object(r.useState)(0),B=Object(d.a)(L,2),G=B[0],U=B[1],V=Object(r.useState)(0),J=Object(d.a)(V,2),K=J[0],z=J[1],Y=function(e){var t=parseFloat(e.target.value);if(isNaN(parseFloat(e.target.value))){M(0)}else{M(1.18*t)}},q=function(e){var t=parseFloat(e.target.value);if(isNaN(parseFloat(e.target.value))){U(0)}else{var a=1.18*t*parseFloat(K);U(a)}},H=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve();case 2:t=e.sent,o(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe();case 2:t=e.sent,p(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(N.a)(y.a.mark((function e(){var t;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge();case 2:t=e.sent,z(t.data.venta);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(N.a)(y.a.mark((function e(t){var a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(t);case 2:(a=e.sent).data&&E(a.data.razonSocial);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),X=function(){var t=Object(N.a)(y.a.mark((function t(a){var r,n;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a.preventDefault(),r={},t.t0=I,t.next="soles"===t.t0?5:"dolares"===t.t0?7:9;break;case 5:return r={month:a.target.month[0].value,year:a.target.year[0].value,date:a.target.date.value,document:a.target.document.value,serie:a.target.serie.value,number:parseFloat(a.target.number.value),recipe:a.target.recipe.value,ruc:parseFloat(a.target.ruc.value),tax_base:parseFloat(a.target.tax_base.value),tb_igv:parseFloat(a.target.tb_igv.value),tb_total:parseFloat(a.target.tb_total.value),business_name:_,tax_base_dolar:null,change_type:null,tb_igv_dolar:null,tb_total_dolar:null},t.abrupt("break",11);case 7:return r={month:a.target.month[0].value,year:a.target.year[0].value,date:a.target.date.value,document:a.target.document.value,serie:a.target.serie.value,number:parseFloat(a.target.number.value),recipe:a.target.recipe.value,ruc:parseFloat(a.target.ruc.value),tax_base_dolar:parseFloat(a.target.tax_base_dolar.value),change_type:parseFloat(a.target.change_type.value),tb_igv_dolar:parseFloat(a.target.tb_igv_dolar.value),tb_total_dolar:parseFloat(a.target.tb_total_dolar.value),business_name:_,tax_base:null,tb_igv:null,tb_total:null},t.abrupt("break",11);case 9:return C(!0),t.abrupt("break",11);case 11:return t.next=13,_e(r);case 13:"OK"===(n=t.sent).statusText?e.history.push("/ventas"):C(!0),console.log(n);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(r.useEffect)((function(){W(x)}),[x]),Object(r.useEffect)((function(){H()}),[]),Object(r.useEffect)((function(){Q()}),[]),Object(r.useEffect)((function(){Z()}),[]),Object(v.jsxs)("div",{className:"container-page",children:[Object(v.jsx)("h1",{children:"Agregar Venta"}),Object(v.jsxs)("form",{className:"form-add-venta",onSubmit:X,children:[Object(v.jsxs)("div",{className:"form-1-add-venta",children:[Object(v.jsxs)("label",{htmlFor:"mes_registro",children:["MES DE REGISTRO:\xa0",Object(v.jsxs)("select",{name:"month",id:"mes_registro",children:[Object(v.jsx)("option",{value:"",children:"------------"}),Object(v.jsx)("option",{value:"Enero",children:"Enero"}),Object(v.jsx)("option",{value:"Febrero",children:"Febrero"}),Object(v.jsx)("option",{value:"Marzo",children:"Marzo"}),Object(v.jsx)("option",{value:"Abril",children:"Abril"}),Object(v.jsx)("option",{value:"Mayo",children:"Mayo"}),Object(v.jsx)("option",{value:"Junio",children:"Junio"}),Object(v.jsx)("option",{value:"Julio",children:"Julio"}),Object(v.jsx)("option",{value:"Agosto",children:"Agosto"}),Object(v.jsx)("option",{value:"Setiembre",children:"Setiembre"}),Object(v.jsx)("option",{value:"Octubre",children:"Octubre"}),Object(v.jsx)("option",{value:"Noviembre",children:"Noviembre"}),Object(v.jsx)("option",{value:"Diciembre",children:"Diciembre"})]})]}),Object(v.jsxs)("label",{htmlFor:"year",children:["A\xd1O DE REGISTRO:\xa0",Object(v.jsx)("input",{type:"number",name:"year",id:"year",placeholder:(new Date).getFullYear()})]})]}),Object(v.jsx)("p",{children:"COMPROBANTE DE PAGO O DOCUMENTO:"}),Object(v.jsxs)("div",{className:"form-2-add-venta",children:[Object(v.jsxs)("label",{htmlFor:"fecha_emision",children:["FECHA DE EMISION: \xa0",Object(v.jsx)(oe.a,{id:"fecha_emision",className:"fecha_emision",onChange:c,name:"date",value:n})]}),Object(v.jsxs)("label",{htmlFor:"document",children:["TIPO DE DOCUMENTO:\xa0",Object(v.jsxs)("select",{name:"document",id:"document",children:[Object(v.jsx)("option",{value:"",children:"------------------"}),l.map((function(e){return Object(v.jsx)("option",{value:e.document,children:e.document},e.id)}))]})]}),Object(v.jsxs)("label",{htmlFor:"serie",children:["SERIE:\xa0",Object(v.jsx)("input",{type:"text",name:"serie",id:"serie"})]}),Object(v.jsxs)("label",{htmlFor:"number",children:["N\xdaMERO:\xa0",Object(v.jsx)("input",{type:"number",name:"number",id:"number"})]}),Object(v.jsxs)("label",{htmlFor:"recipe",children:["TIPO:\xa0",Object(v.jsxs)("select",{name:"recipe",id:"recipe",children:[Object(v.jsx)("option",{value:"",children:"------------------"}),j.map((function(e){return Object(v.jsx)("option",{value:e.recipe,children:e.recipe},e.id)}))]})]}),Object(v.jsxs)("label",{htmlFor:"ruc",children:["RUC DEL PROVEEDOR:\xa0",Object(v.jsx)("input",{type:"number",name:"ruc",id:"ruc",min:"0",max:"777777777777",onChange:function(e){return m(e.target.value)}})]}),Object(v.jsxs)("label",{htmlFor:"razon_social",children:["NOMBRE O RAZ\xd3N SOCIAL:\xa0",Object(v.jsx)("input",{type:"text",name:"business_name",className:"razon-social-form",value:_,disabled:"true"})]})]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("input",{type:"radio",name:"imponible",id:"1",value:"1",onChange:function(){return k("soles")}}),"\xa0 IMPONIBLE EN SOLES"]}),Object(v.jsxs)("p",{children:[Object(v.jsx)("input",{type:"radio",name:"imponible",id:"2",value:"2",onChange:function(){return k("dolares")}}),"\xa0 IMPONIBLE EN DOLARES:"]}),"soles"===I&&Object(v.jsxs)("div",{className:"form-3-add-venta",children:[Object(v.jsxs)("label",{htmlFor:"tax_base",children:["BASE IMPONIBLE (en soles):\xa0",Object(v.jsx)("input",{type:"number",name:"tax_base",id:"tax_base",step:"0.001",onChange:Y})]}),Object(v.jsxs)("label",{htmlFor:"tb_igv",children:["IGV:\xa0",Object(v.jsx)("input",{type:"number",name:"tb_igv",id:"tb_igv",step:"0.01",value:"0.18",disabled:"true"})]}),Object(v.jsxs)("label",{htmlFor:"tb_total",children:["TOTAL:\xa0",Object(v.jsx)("input",{type:"number",name:"tb_total",id:"tb_total",onChange:Y,value:P,disabled:"true"})]})]}),"dolares"===I&&Object(v.jsxs)("div",{className:"form-4-add-venta",children:[Object(v.jsxs)("label",{htmlFor:"tax_base_dolar",children:["BASE IMPONIBLE (en dolares):\xa0",Object(v.jsx)("input",{type:"number",name:"tax_base_dolar",id:"tax_base_dolar",onChange:q})]}),Object(v.jsxs)("label",{htmlFor:"change_type",children:["TIPO DE CAMBIO:\xa0",Object(v.jsx)("input",{type:"number",name:"change_type",id:"change_type",value:K,disabled:"true"})]}),Object(v.jsxs)("label",{htmlFor:"tb_igv_dolar",children:["IGV:\xa0",Object(v.jsx)("input",{type:"number",name:"tb_igv_dolar",id:"tb_igv_dolar",value:"0.18",disabled:"true"})]}),Object(v.jsxs)("label",{htmlFor:"tb_total_dolar",children:["TOTAL:\xa0",Object(v.jsx)("input",{type:"number",name:"tb_total_dolar",id:"tb_total_dolar",onChange:q,value:G,disabled:"true"})]})]}),A&&Object(v.jsx)("p",{className:"error",children:"Completar todos los campos correctamente"}),Object(v.jsx)("button",{type:"submit",children:"Agregar venta"})]})]})},Se=function(){return Object(v.jsx)(M,{children:Object(v.jsxs)(x.d,{children:[Object(v.jsx)(x.b,{exact:!0,path:"/",component:je}),Object(v.jsx)(x.b,{exact:!0,path:"/ventas",component:Ee}),Object(v.jsx)(x.b,{exact:!0,path:"/ventas/add",component:we}),Object(v.jsx)(x.b,{exact:!0,path:"/ventas/unities/all",component:xe}),Object(v.jsx)(x.b,{exact:!0,path:"/compras",component:ie}),Object(v.jsx)(x.b,{exact:!0,path:"/compras/add",component:be}),Object(v.jsx)(x.b,{exact:!0,path:"/compras/unities/all",component:pe}),Object(v.jsx)(x.b,{exact:!0,path:"/compras/detail/:id",component:ne}),Object(v.jsx)(x.b,{exact:!0,path:"/compras/unities/detail/:id",component:Oe}),Object(v.jsx)(x.b,{component:de})]})})},Ie=Object(p.a)(),ke=function(){var e,t=sessionStorage.getItem("crdt");if(null===t)e={logged:!1};else{var a=b(t);e={id:a.user_id,email:a.email,first_name:a.first_name,last_name:a.last_name,logged:!0}}return e},Fe=function(){var e=Object(r.useReducer)(j,{},ke),t=Object(d.a)(e,2),a=t[0],n=t[1];return Object(v.jsx)(h.Provider,{value:{user:a,dispatch:n},children:Object(v.jsx)(O.a,{children:Object(v.jsx)(x.c,{history:Ie,children:Object(v.jsxs)(x.d,{children:[Object(v.jsx)(f,{exact:!0,path:"/login",component:C,isAuthenticated:a.logged}),Object(v.jsx)(g,{path:"/",component:Se,isAuthenticated:a.logged})]})})})})},De=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||i.b,Ae=window.__PRELOADED_STATE__,Ce=Object(i.c)(j,Ae,De(Object(i.a)(o.a)));delete window.__PRELOADED_STATE__,c.a.render(Object(v.jsx)(l.a,{store:Ce,children:Object(v.jsx)(Fe,{})}),document.getElementById("root")),s()},48:function(e,t,a){},50:function(e,t,a){},60:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},99:function(e,t,a){}},[[102,1,2]]]);
//# sourceMappingURL=main.79fc3b58.chunk.js.map